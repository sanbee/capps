<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" ?>
<casaxml xmlns="http://casa.nrao.edu/schema/psetTypes.html"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://casa.nrao.edu/schema/casa.xsd file:///opt/casa/code/xmlcasa/xml/casa.xsd">
<!-- This is the param set for sdscale -->

<task type="function" name="sdscale" startup="false" category="single dish">

  <shortdescription>ASAP SD task: scale the sd spectra</shortdescription>

  <description>
        ASAP SD task (based on the ALMATST5 recommendations):
        Scale the sd spectra

        Task Version 2008-01-29 TT
</description>

  <input>

    <param type="string" name="sdfile"  mustexist="true">
    <description>name of input SD dataset</description>
    <value></value>
    </param>

    <param type="any" name="antenna">
            <description>antenna name or id (only effective for MS input)</description>
            <any type="variant" limittype="string int"/>
            <value type="int">0</value>
    </param> 

    <param type="any" name="factor">
	    <description>scaling factor (float or float list)</description>
            <any type="variant" limittype="string double doubleArray"/>
	    <value type="double">1.0</value>
    </param>

    <param type="bool" name="scaletsys">
            <description>scaling of associated Tsys</description>
            <value>True</value>
    </param>

    <param type="string" name="outfile">
            <description>if specified write the scaled data to a separate scantable file</description>
            <value></value>
    </param>

    <param type="bool" name="overwrite">
            <description>overwrite the output file if already exists</description>
            <value>False</value>
    </param>

    </input>

  <returns type="void"/>

  <example>
        Keyword arguments:
        sdfile -- name of input SD dataset
        antenna -- antenna name or id (only effective for MS input). 
        factor -- scaling factor. float or one- or two-dimensional float list.
                  default: 1 (no scaling)
        scaletsys -- scaling of associated Tsys
                    default: True
        outfile -- output file name 
                   outfile='' will write the data to a file named,
                   &lt;sdfile&gt;_scaled&lt;factor&gt;
                   default: ''
        overwrite -- overwrite the output file if already exists
                options: (bool) True,False
                default: False


        DESCRIPTION:

        Task sdscale performs scaling of single-dish spectra.
        By setting scaletsys = True, associated Tsys is also scaled.
        Tsys informations are written in the casalogger and they are 
        automatically stored in 'casapy.log'. 
        The sdfile can be any of ASAP, MS, SDFITS, or RPFITS format.
        If outfile name is given or outfile=''(default), the scaled data 
        is written to a new file with the same format as the input data 
        (Note: in case of the RPFITS format input data, it will be written 
        to SDFITS format).

        The scaling factor, factor, accepts both scalar type and list 
        type value. The list must be one or two dimensional. If factor is 
        one dimensional, its length must coincide with a number of spectral 
        channel. If factor is two dimensional, its shape must be 
        (n, 1) or (n, m), where n is a number of spectrum, while m is a 
        number of channel for each spcetum. m can be variable for each 
        spectrum. In addition, the factor can be an ASCII filename that 
        stores a space-separated list of scaling factor consisting of 
        adequate number of rows and columns. For example, if the contents 
        of input ASCII file is shown as, 

           0.5 0.3 0.2
           1.0 0.2 0.9

        it is interpreted as a list [[0.5, 0.3, 0.2],[1.0, 0.2, 0.9]]. 

        WARNING for the GBT raw SDFITS format data as input:
        Currently, all SDtasks cannot handle GBT raw SDFITS format data
        (in which the data are stored in multiple tables within SDFITS).
        It may be still possible to reduce GBT data after some
        preprocessing (outside CASA) of the raw SDFITS to a SDFITS with
        a single data table or to other data formats handled by SDtasks.


  </example>

</task>

</casaxml>
