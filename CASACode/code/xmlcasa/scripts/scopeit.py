import sys
import os
import casac
import string
import inspect

def args( accumtime=None,
             alg=None,
             antenna=None,
             antennaid=None,
             antennalist=None,
             append=None,
             archivefiles=None,
             array=None,
             asdm=None,
             aswidth=None,
             avg_limit=None,
             axis=None,
             bandname=None,
             bandtype=None,
             baseline=None,
             bitpix=None,
             blbased=None,
             blmode=None,
             blpoly=None,
             box_size=None,
             solnorm=None,
             bpoly=None,
             bptable=None,
             brightnessunit=None,
             caldescid=None,
             calfield=None,
             calmode=None,
             caltable=None,
             calselect=None,
             calwt=None,
             cell=None,
             channels=None,
             channelavg=None,
             chans=None,
             chanwidth=None,
             cleanbox=None,
             clearpanel=None,          
             clipfunction=None,
             clipcorr=None,
             clipminmax=None,
             combinespw=None,
             complist=None,
             comptype=None,
             concatvis=None,
             connect=None,
             constpb=None,
             constrainflux=None,
             correlation=None,          
             correlations=None,
             cyclefactor=None,
             cyclespeedup=None,
             datacolumn=None,
             degamp=None,
             deglast=None,
             degphase=None,
             direction=None,
             dirtol=None,
             diskwrite=None,
             display=None,
             doppler=None,
             dropdeg=None,
             edge=None,
             end=None,
             excludepix=None,
             expr=None,
             feed=None,
             field=None,
             figfile=None,
             file=None,
             filetype=None,
             fitfile=None,
             fitmode=None,
             fitorder=None,
             fitsfile=None,
             fitsimage=None,
             fixpar=None,
             flagmode=None,
             flagregion=None,
             flrange=None,
             fluxdensity=None,
             fluxtable=None,
             fluxunit=None,
             fontsize=None,
             frame=None,
             freqdep=None,
             freqtol=None,
             frequency=None,
             frequencytol=None,
             ftmachine=None,
             gain=None,
             gaincurve=None,
             gainselect=None,
             gaintable=None,
             gaintype=None,
             highres=None,
             iflist=None,
             image=None,
             imagename=None,
             imsize=None,
             includepix=None,
             incrtable=None,
             incremental=None,
             infile=None,
             initialize=None,
             integration=None,
             interactive=None,
             interp=None,
             iteration=None,
             invertmask=None,
             kernel=None,
             kwidth=None,
             linecat=None,
             linedop=None,
             linewidth=None,
             lowres=None,
             markersize=None,
             mask=None,
             masklist=None,
             maskline=None,
             maskcenter=None,
             maskedge=None,
             memalg=None,
             mfalg=None,
             min_nchan=None,
             minpb=None,
             minpix=None,
             maxpix=None,
             mode=None,
             model=None,
             modelfixed=None,
             modelimage=None,
             moments=None,
             mosweight=None,
             msselect=None,
             multicolor=None,
             multiplot=None,
             nchan=None,
             negcomponent=None,
             nfit=None,
             niter=None,
             nmosx=None,
             nmosy=None,
             npointaver=None,
             opacity=None,
             optical=None,
             outfile=None,
             outform=None,
             output=None,
             outputvis=None,
             overplot=None,
             overwrite=None,
             panel=None,
             phasecenter=None,
             phasecenterid=None,
             phaseonly=None,
             phasewrap=None,
             pixelorder=None,
             plotfile=None,
             plotlevel=None,
             plotrange=None,
             plotsymbol=None,
             plotcolor=None,
             pointtable=None,
             pointingspacing=None,
             polaverage=None,
             poln=None,
             preavg=None,
             prior=None,
             project=None,
             refant=None,
             refdate=None,
             reference=None,
             refspwmap=None,
             removeoldpanels,
             region=None,
             replacetopplot=None,
             restoringbeam=None,
             restfreq=None,
             rmode=None,
             robust=None,
             scales=None,
             scaletype=None,
             scan=None,
             scanaverage=None,
             scanlist=None,
             sdcal=None,
             sdfile=None,
             sdimage=None,
             showflags=None,
             showgui=None,
             sigma=None,
             smoothtype=None,
             smoothtime=None,
             solint=None,
             sourcepar=None,
             specunit=None,
             splinetime=None,
             sprange=None,
             spw=None,
             spwid=None,
             spwmap=None,
             stack=None,
             standard=None,
             start=None,
             startfreq=None,
             step=None,
             stokes=None,
             subplot=None,
             tablein=None,
             tablename=None,
             targetflux=None,
             task=None,
             taskname=None,
             telescope=None,
             template=None,
             thresh=None,
             threshold=None,
             time=None,
             timeaverage=None,
             timebin=None,
             timerange=None,
             title=None,
             totaltime=None,
             transfer=None,
             unflag=None,
             uvfilter=None,
             uvfilterbmaj=None,
             uvfilterbmin=None,
             uvfilterbpa=None,
             uvrange=None,
             velocity=None,
             verbose =None,
             vis =None,
             visnorm=None,
             vwrpid=None,
             weighting=None,
             whichrep=None,
             whichhdu=None,
             width=None,
             windowsize=None,
             writestation=None,
             writesyscal=None,
             xaxis=None,
             xlabels=None,
             xstat=None,
             yaxis=None,
             ylabels=None,
             zeroblanks=None) :
    a=inspect.stack()
    stacklevel=0
    for k in range(len(a)):
        if (string.find(a[k][1], 'ipython console') > 0):
            stacklevel=k
            break
        if (string.find(a[k][1], 'casapy') > 0):
            stacklevel=k
            break
    myf=sys._getframe(stacklevel).f_globals

    function_signature_defaults=dict(zip(args.func_code.co_varnames,args.func_defaults))
    for item in function_signature_defaults.iteritems():
        key,val = item
        keyVal = eval(key)
        if (keyVal == None):
            #user hasn't set it - use global/default
            pass
        else:   
            #user has set it - use over-ride
            #        sys._getframe(1).f_globals[key]=keyVal
            myf[key]=keyVal


    c = {'accumtime':myf['accumtime'],
      'alg':myf['alg'],
      'antenna':myf['antenna'],
      'antennaid':myf['antennaid'],
      'antennalist':myf['antennalist'],
      'append':myf['append'],
      'archivefiles':myf['archivefiles'],
      'asdm':myf['asdm'],
      'aswidth':myf['aswidth'],
      'averagenpoints':myf['averagenpoints']
      'avg_limit':myf['avg_limit'],
      'axis':myf['axis'],
      'bandname':myf['bandname'],
      'bandtype':myf['bandtype'],
      'baseline':myf['baseline'],
      'bitpix':myf['bitpix'],
      'blbased':myf['blbased'],
      'blmode':myf['blmode'],
      'blpoly':myf['blpoly'],
      'box_size':myf['box_size'],
      'solnorm':myf['solnorm'],
      'bpoly':myf['bpoly'],
      'bptable':myf['bptable'],
      'brightnessunit':myf['brightnessunit'],
      'caldescid':myf['caldescid'],
      'calfield':myf['calfield'],
      'calmode':myf['calmode'],
      'caltable':myf['caltable'],
      'calselect':myf['calselect'],
      'calwt':myf['calwt'],
      'cell':myf['cell'],
      'channels':myf['channels'],
      'chans':myf['chans'],
      'chanwidth':myf['chanwidth'],
      'cleanbox':myf['cleanbox'],
      'clearpanel':myf['clearanel'],                  
      'clipfunction':myf['clipfunction'],
      'clipcorr':myf['clipcorr'],
      'clipminmax':myf['clipminmax'],
      'combinespw':myf['combinespw'],
      'complist':myf['complist'],
      'comptype':myf['comptype'],
      'concatvis':myf['concatvis'],
      'connect':myf['connect'],
      'constpb':myf['constpb'],
      'constrainflux':myf['constrainflux'],
      'correlation':myf['correlation'],
      'correlations':myf['correlations'],
      'cyclefactor':myf['cyclefactor'],
      'cyclespeedup':myf['cyclespeedup'],
      'datacolumn':myf['datacolumn'],
      'degamp':myf['degamp'],
      'deglast':myf['deglast'],
      'degphase':myf['degphase'],
      'direction':myf['direction'],
      'dirtol':myf['dirtol'],
      'diskwrite':myf['diskwrite'],
      'display':myf['display'],
      'doppler':myf['doppler'],
      'dropdeg':myf['dropdeg'],
      'edge':myf['edge'],
      'end':myf['end'],         
      'excludepix':myf['excludepix'],
      'expr':myf['expr'],
      'feed':myf['feed'],         
      'field':myf['field'],
      'figfile':myf['figfile'],
      'file':myf['file'],
      'filetype':myf['filetype'],
      'fitfile':myf['fitfile'],
      'fitmode':myf['fitmode'],
      'fitorder':myf['fitorder'],
      'fitsfile':myf['fitsfile'],
      'fitsimage':myf['fitsimage'],
      'fixpar':myf['fixpar'],
      'flagmode':myf['flagmode'],
      'flagregion':myf['flagregion'],
      'flrange':myf['flrange'],
      'fluxdensity':myf['fluxdensity'],
      'fluxtable':myf['fluxtable'],
      'fluxunit':myf['fluxunit'],
      'fontsize':myf['fontsize'],
      'frame':myf['frame'],
      'freqdep':myf['freqdep'],
      'freqtol':myf['freqtol'],
      'frequency':myf['frequency'],
      'frequencytol':myf['frequencytol'],
      'ftmachine':myf['ftmachine'],
      'gain':myf['gain'],
      'gaincurve':myf['gaincurve'],
      'gainselect':myf['gainselect'],
      'gaintable':myf['gaintable'],
      'gaintype':myf['gaintype'],
      'highres':myf['highres'],
      'iflist':myf['iflist'],
      'image':myf['image'],
      'imagename':myf['imagename'],
      'imsize':myf['imsize'],
      'includepix':myf['includepix'],
      'incrtable':myf['incrtable'],
      'incremental':myf['incremental'],
      'infile':myf['infile'],
      'initialize':myf['initialize'],
      'integration':myf['integration'],
      'interactive':myf['interactive'],
      'interp':myf['interp'],
      'iteration':myf['iteration'],
      'invertmask':myf['invertmask'],
      'kernel':myf['kernel'],
      'kwidth':myf['kwidth'],
      'linecat':myf['linecat'],
      'linedop':myf['linedop'],
      'linewidth':myf['linewidth'],
      'lowres':myf['lowres'],
      'markersize':myf['markersize'],
      'mask':myf['mask'],
      'masklist':myf['masklist'],
      'maskline':myf['maskline'],
      'maskcenter':myf['maskcenter'],
      'maskedge':myf['maskedge'],
      'memalg':myf['memalg'],
      'mfalg':myf['mfalg'],
      'min_nchan':myf['min_nchan'],
      'minpb':myf['minpb'],
      'minpix':myf['minpix'],
      'maxpix':myf['maxpix'],
      'mode':myf['mode'],
      'model':myf['model'],
      'modelfixed':myf['modelfixed'],
      'modelimage':myf['modelimage'],
      'moments':myf['moments'],
      'mosweight':myf['mosweight'],
      'msselect':myf['msselect'],
      'multicolor':myf['multicolor'],
      'multisource':myf['multisource'],
      'nchan':myf['nchan'],
      'negcomponent':myf['negcomponent'],
      'nfit':myf['nfit'],
      'niter':myf['niter'],
      'nmosx':myf['nmosx'],
      'nmosy':myf['nmosy'],
      'npointaver':myf['npointaver'],
      'opacity':myf['opacity'],
      'optical':myf['optical'],
      'outfile':myf['outfile'],
      'outform':myf['outform'],
      'output':myf['output'],
      'outputvis':myf['outputvis'],
      'overplot':myf['overplot'],
      'overwrite':myf['overwrite'],
      'panel':myf['panel'],
      'phasecenter':myf['phasecenter'],
      'phasecenterid':myf['phasecenterid'],
      'phaseonly':myf['phaseonly'],
      'phasewrap':myf['phasewrap'],
      'pixelorder':myf['pixelorder'],
      'plotfile':myf['plotfile'],
      'plotlevel':myf['plotlevel'],
      'plotrange':myf['plotrange'],
      'plotsymbol':myf['plotsymbol'],
      'plotcolor':myf['plotcolor'],         
      'pointtable':myf['pointtable'],
      'pointingspacing':myf['pointingspacing'],
      'polaverage':myf['polaverage'],
      'poln':myf['poln'],
      'preavg':myf['preavg'],
      'prior':myf['prior'],
      'project':myf['project'],
      'refant':myf['refant'],
      'refdate':myf['refdate'],
      'reference':myf['reference'],
      'refspwmap':myf['refspwmap'],
      'removeoldpanels': myf['removeoldpanels']
      'region':myf['region'],
      'replacetopplot':myf['replacetopplot']
      'restoringbeam':myf['restoringbeam'],
      'restfreq':myf['restfreq'],
      'rmode':myf['rmode'],
      'robust':myf['robust'],
      'scales':myf['scales'],
      'scaletype':myf['scaletype'],
      'scan':myf['scan'],
      'scanaverage':myf['scanaverage'],
      'scanlist':myf['scanlist'],
      'sdcal':myf['sdcal'],
      'sdfile':myf['sdfile'],
      'sdimage':myf['sdimage'],
      'selecttime':myf['selecttime'],
      'showflags':myf['showflags'],
      'showgui':myf['showgui'],
      'sigma':myf['sigma'],
      'skipnpoints':myf['skipnpoints'],
      'smoothtype':myf['smoothtype'],
      'smoothtime':myf['smoothtime'],
      'solint':myf['solint'],
      'sourcepar':myf['sourcepar'],
      'specunit':myf['specunit'],
      'splinetime':myf['splinetime'],
      'sprange':myf['sprange'],
      'spw':myf['spw'],         
      'spwid':myf['spwid'],
      'spwmap':myf['spwmap'],
      'stack':myf['stack'],
      'standard':myf['standard'],
      'start':myf['start'],
      'startfreq':myf['startfreq'],
      'step':myf['step'],
      'stokes':myf['stokes'],
      'subplot':myf['subplot'],
      'tablein':myf['tablein'],
      'tablename':myf['tablename'],
      'targetflux':myf['targetflux'],
      'task':myf['task'],
      'taskname':myf['taskname'],
      'telescope':myf['telescope'],
      'template':myf['template'],
      'thresh':myf['thresh'],
      'threshold':myf['threshold'],
      'timeaverage':myf['timeaverage'],
      'timebin':myf['timebin'],
      'timerange':myf['timerange'],
      'title':myf['title'],
      'totaltime':myf['totaltime'],
      'transfer':myf['transfer'],
      'unflag':myf['unflag'],
      'uvfilter':myf['uvfilter'],
      'uvfilterbmaj':myf['uvfilterbmaj'],
      'uvfilterbmin':myf['uvfilterbmin'],
      'uvfilterbpa':myf['uvfilterbpa'],
      'uvrange':myf['uvrange'],
      'velocity':myf['velocity'],
      'verbose':myf['verbose'],
      'vis':myf['vis'],
      'visnorm':myf['visnorm'],
      'vwrpid':myf['vwrpid'],
      'weighting':myf['weighting'],
      'whichrep':myf['whichrep'],
      'whichhdu':myf['whichhdu'],
      'width':myf['width'],
      'windowsize':myf['windowsize'],
      'writestation':myf['writestation'],
      'writesyscal':myf['writesyscal'],
      'xaxis':myf['xaxis'],
      'xlabels':myf['xlabels'],
      'xstat':myf['xstat'],
      'yaxis':myf['yaxis'],
      'ylabels':myf['ylabels'],
      'zeroblanks':myf['zeroblanks']
      }
    return c;
